---
layout: none
---
{
  "data": [
    {%- for core_hash in site.data.cores -%}
      {%- assign key = core_hash[0] -%}
      {%- assign core = core_hash[1] -%}
      {%- for platform_id in core.metadata.platform_ids -%}
        {%- assign platform = site.data.platforms[platform_id] -%}
        {%- unless platform -%}
          {%- continue -%}
        {%- endunless -%}
        {%- assign core_id = core.metadata.author | append: "." | append: core.metadata.shortname -%}
        {%- assign release = site.data.releases[key] -%}
        {
          "identifier": {{ core_id | jsonify }},
          "platform": {{ platform.name | jsonify }},
          "category": {{ platform.category | jsonify }},
          "manufacturer": {{ platform.manufacturer | jsonify }},
          "year": {{ platform.year | jsonify }},
          "release_date": {{ core.metadata.date_release | date: "%Y-%m-%d" | jsonify }},
          "version": {{ core.metadata.version | jsonify }},
          "repository": {
            "platform": "github",
            "owner": {{ release.repository.owner | jsonify }},
            "name": {{ release.repository.name | jsonify }}
          },
          "assets": {{ core.data_slots | jsonify }},
          "requires_license": {{ core.requires_license | jsonify }},
          "sponsor": {{ release.funding | jsonify }}
        }
      {%- endfor -%}
      {%- unless forloop.last %},{% endunless %}
    {%- endfor -%}
  ]
}
